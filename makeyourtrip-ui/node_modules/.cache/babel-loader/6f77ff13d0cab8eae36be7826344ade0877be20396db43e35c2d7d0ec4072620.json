{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar lodash_1 = __importDefault(require(\"lodash\"));\nvar errorMessages_1 = __importDefault(require(\"../../libs/constants/errorMessages\"));\nvar respond_1 = __importDefault(require(\"../../utils/respond\"));\nvar request_1 = __importDefault(require(\"../../utils/request\"));\nvar form_data_1 = __importDefault(require(\"form-data\"));\nfunction default_1(uploadOptions, defaultOptions, callback) {\n  if (!lodash_1.default.isObject(uploadOptions)) {\n    (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_DATA, callback);\n    return;\n  }\n  if (!uploadOptions.file) {\n    (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_FILE_PARAMETER, callback);\n    return;\n  }\n  if (!uploadOptions.fileName) {\n    (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n    return;\n  }\n  var formData = {};\n  var form = new form_data_1.default();\n  var key;\n  for (key in uploadOptions) {\n    if (key) {\n      if (key == \"file\" && typeof uploadOptions.file != \"string\") {\n        // form.append('file', uploadOptions.file);\n        form.append('file', uploadOptions.file, String(uploadOptions.fileName));\n      } else if (key == \"tags\" && Array.isArray(uploadOptions.tags)) {\n        form.append('tags', uploadOptions.tags.join(\",\"));\n      } else if (key == \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n        form.append('responseFields', uploadOptions.responseFields.join(\",\"));\n      } else if (key == \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n        form.append('extensions', JSON.stringify(uploadOptions.extensions));\n      } else if (key === \"customMetadata\" && typeof uploadOptions.customMetadata === \"object\" && !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n        form.append('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n      } else {\n        form.append(key, String(uploadOptions[key]));\n      }\n    }\n  }\n  var requestOptions = {\n    url: defaultOptions.uploadEndpoint || \"https://upload.imagekit.io/api/v1/files/upload\",\n    method: \"POST\",\n    formData: form\n  };\n  (0, request_1.default)(requestOptions, defaultOptions, callback);\n}\nexports.default = default_1;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","lodash_1","require","errorMessages_1","respond_1","request_1","form_data_1","default_1","uploadOptions","defaultOptions","callback","default","isObject","MISSING_UPLOAD_DATA","file","MISSING_UPLOAD_FILE_PARAMETER","fileName","MISSING_UPLOAD_FILENAME_PARAMETER","formData","form","key","append","String","Array","isArray","tags","join","responseFields","extensions","JSON","stringify","customMetadata","requestOptions","url","uploadEndpoint","method"],"sources":["E:/big_bang_assesment_tourism/makeyourtrip-ui/node_modules/imagekit/dist/libs/upload/index.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = __importDefault(require(\"lodash\"));\nvar errorMessages_1 = __importDefault(require(\"../../libs/constants/errorMessages\"));\nvar respond_1 = __importDefault(require(\"../../utils/respond\"));\nvar request_1 = __importDefault(require(\"../../utils/request\"));\nvar form_data_1 = __importDefault(require(\"form-data\"));\nfunction default_1(uploadOptions, defaultOptions, callback) {\n    if (!lodash_1.default.isObject(uploadOptions)) {\n        (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_DATA, callback);\n        return;\n    }\n    if (!uploadOptions.file) {\n        (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_FILE_PARAMETER, callback);\n        return;\n    }\n    if (!uploadOptions.fileName) {\n        (0, respond_1.default)(true, errorMessages_1.default.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n        return;\n    }\n    var formData = {};\n    var form = new form_data_1.default();\n    var key;\n    for (key in uploadOptions) {\n        if (key) {\n            if (key == \"file\" && typeof uploadOptions.file != \"string\") {\n                // form.append('file', uploadOptions.file);\n                form.append('file', uploadOptions.file, String(uploadOptions.fileName));\n            }\n            else if (key == \"tags\" && Array.isArray(uploadOptions.tags)) {\n                form.append('tags', uploadOptions.tags.join(\",\"));\n            }\n            else if (key == \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n                form.append('responseFields', uploadOptions.responseFields.join(\",\"));\n            }\n            else if (key == \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n                form.append('extensions', JSON.stringify(uploadOptions.extensions));\n            }\n            else if (key === \"customMetadata\" && typeof uploadOptions.customMetadata === \"object\" &&\n                !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n                form.append('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n            }\n            else {\n                form.append(key, String(uploadOptions[key]));\n            }\n        }\n    }\n    var requestOptions = {\n        url: defaultOptions.uploadEndpoint || \"https://upload.imagekit.io/api/v1/files/upload\",\n        method: \"POST\",\n        formData: form\n    };\n    (0, request_1.default)(requestOptions, defaultOptions, callback);\n}\nexports.default = default_1;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}